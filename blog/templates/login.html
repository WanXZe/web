{% extends "base.html" %}
{% block title %}登录 - WanXZe's Blog{% endblock %}
{% block content %}
<div style="max-width: 400px; margin: 0 auto;">
    <div class="card fade-in">
        <div style="text-align: center; margin-bottom: 2rem;">
            <i class="fas fa-sign-in-alt" style="font-size: 3rem; color: var(--primary); margin-bottom: 1rem;"></i>
            <h1 style="font-size: 1.75rem;">欢迎回来</h1>
            <p style="color: var(--text-secondary);">登录你的账户</p>
        </div>

        <form action="/login" method="POST" style="padding-right: 2rem;">
            <div class="form-group" style="margin-top: 5px;">
                <label class="form-label">用户名</label>
                <input type="text" name="username" class="form-control" placeholder="输入你的用户名" required>
            </div>

            <div class="form-group" style="margin-top: 5px;">
                <label class="form-label">密码</label>
                <input type="password" name="password" class="form-control" placeholder="输入你的密码" required>
            </div>
            
            <div class="form-group" style="margin-top: 5px;">
                <label class="form-label">验证码</label>
                <div style="display: flex; gap: 1rem;">
                    <input type="text" name="captcha" class="form-control" placeholder="输入验证码" required>
                    <img src="/captcha" alt="验证码" onclick="this.src='/captcha?r='+Math.random()" 
                         style="height: 45px; border-radius: var(--radius-md); cursor: pointer;">
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 5px;">
                <i class="fas fa-sign-in-alt"></i> 登录
            </button>
        </form>
        
        <div style="text-align: center; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border);">
            <p style="color: var(--text-secondary);">
                已有账户？ <a href="/register" style="color: var(--primary);">注册新账户</a>
                忘记密码？ <a href="/forget_password" style="color: var(--primary);">更改密码</a>
            </p>
        </div>
        
        {% if error %}
            <div style="margin-top: 1rem; padding: 1rem; background: #fef2f2; border-radius: var(--radius-md); color: #dc2626;">
                <i class="fas fa-exclamation-circle"></i> {{error}}
            </div>
        {% endif %}
        
        {% if message %}
            <div style="margin-top: 1rem; padding: 1rem; background: #f0fdf4; border-radius: var(--radius-md); color: #16a34a;">
                <i class="fas fa-check-circle"></i> {{message}}
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}